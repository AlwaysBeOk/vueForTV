{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/*\r\n *\r\n * 页面内容接口方法\r\n *\r\n */\r\nvar _vtype = GetQueryString('vtype');\r\nvar _itemid = GetQueryString('itemid');\r\n//var _itemid = 'INTE1477394685373652';\r\n//var _vtype = 17;\r\nvar arr = [];\r\nvar Arr = [];\r\nvar setContent = function(){\r\n\tthis.indexVideoDiv = 'index_video_box';//大视频播放的div id\r\n\t//this.interactiveLive('http://115.182.34.94/api/list/liveMessageList');//互动直播\r\n\tthis.getTotalPeople();//总人数\r\n\tthis.liveList(1);//实况直播\r\n\tthis.setliveChat();//边看边聊\r\n}\r\n\r\nsetContent.prototype = {\r\n\tcommonCall: function(){\r\n\t\tthis.shipei();\r\n\t\tthis.interactiveLive('http://115.182.34.94/api/list/liveMessageList');//互动直播\r\n\t\tthis.liveList(1);//实况直播\r\n\t\tthis.setliveChat();//边看边聊\r\n\t},\r\n\r\n\tsetNonHeight: function(rem){//15.25 - full, 15.25-5.3\r\n\t\t//set height of non\r\n\t\tvar height = $('.page-sy').height() - rem * parseFloat($('html').css('fontSize'));\r\n\t\t$('#interact').css('height', Math.floor(height) +'px' ); \r\n\t},\r\n\r\n\tshipei: function(){\r\n\t\tvar self = this;\r\n\t\t//this.setNonHeight(15.25);\r\n\t\t//横屏竖屏切换\r\n//\t\t$(window).on('orientationchange', function(event){\r\n//\t\t    if( window.orientation == 180 || window.orientation == 0 ) {\r\n//\t\t        setIntervar(self.resize(),1);\r\n//\t\t    }\r\n//\t\t    if( window.orientation == 90 || window.orientation == -90 ) {\r\n//\t\t        setIntervar(self.resize(),1);\r\n//\t\t    }\r\n//\t\t});\r\n\t},\r\n\r\n\t/* 实况直播 */\r\n\tliveList: function(curPage){\r\n\t\tvar app = 'cbox',//应用\r\n\t\t\turl = 'http://common.newcomment.cntv.cn/data/special?app='+app+'&itemid='+_itemid+'&reply=0&top=1&jsonp_callback=setcontent.liveListSuccess&prepage=50&page='+curPage;\r\n\t\t\tconsole.log(url);\r\n\t\tthis.getJsonp(url);\r\n\t},\r\n\r\n\t\tliveListSuccess: function(data){\r\n\t\tvar html = '';\r\n\t\t(function(self){\r\n\t\t\tif(data.code == 0){ //连接成功\r\n\t\t\t\t//获取置顶数据\t\r\n\t\t\t\tif( data.data.top && data.data.top.length > 0){ \r\n\t\t\t\t\t$.each(data.data.top, function(index,item){\r\n\t\t\t\t\t\thtml += self.setOneItem(item, 1); \r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//获取内容\r\n\t\t\t\tif( data.data.content && data.data.content.length > 0){\r\n\t\t\t\t\t$.each(data.data.content, function(index, item){\r\n\t\t\t\t\t\thtml += self.setOneItem(item);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('#liveList').html(html);\r\n\t\t\t\tloopBindingApp();\r\n\t\t\t}else{\r\n\t\t\t\tconsole.log(\"连接失败\");\r\n\t\t\t\tif(data.code == 20001){\r\n\t\t\t\t\tconsole.log(\"参数不全\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})(this);\r\n\t},\r\n\r\n\tsetOneItem: function(item, ifTop){\r\n\t\tvar self = this;\r\n\t\tvar li_html = \t'<li class=\"clearfix\" data-id=\"'+item.pid+'\">\\\r\n\t\t\t\t\t\t\t<div class=\"n-leftPart\">\\\r\n\t\t\t\t\t\t\t\t<img src=\"img/touxiang.png\" alt=\"\" />\\\r\n\t\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t\t<div class=\"n-rightPart\">\\\r\n\t\t\t\t\t\t\t\t<div class=\"n-title clearfix\">\\\r\n\t\t\t\t\t\t\t\t\t<div class=\"n-name\">'+ item.author +'</div>';\r\n\t\t\t\t\t\t\t\t\tif(ifTop == 1){\r\n\t\t\tli_html +=\t\t\t\t\t'<div class=\"t-zhiding\">置顶</div>';\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\tli_html +=\t\t\t\t'<div class=\"n-time\">'+ self.getDateDiff(parseInt(item.dateline)*1000) +'</div>';\r\n\t\t\tli_html +=\t\t\t'</div>\\\r\n\t\t\t\t\t\t\t\t<div class=\"n-conW\">'+ item.message;\r\n\t\t\tli_html +=\t\t\t\tself.getImages(item);\r\n\t\t\tli_html +=\t\t\t'</div>\\\r\n\t\t\t\t\t\t\t\t<div class=\"n-zan clearfix\">\\\r\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:;\" class=\"hasApp\"><div class=\"n-message\"></div></a>';\r\n\t\t\tli_html +=\t\t\t\tself.setZan(item);\r\n\t\t\tli_html +=\t\t\t'</div>\\\r\n\t\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t</li>'; \r\n\t\treturn li_html;\r\n\t},\r\n\tgetImages: function(item){\r\n\t\tvar _html = '';\r\n\t\tif(item.piccount == 1){\r\n\t\t\t_html += \t'<img src=\"'+ item.pics[0].url +'\" alt=\"\">';\r\n\t\t}else if(item.piccount > 1){\r\n\t\t\t_html += \t'<div class=\"three_img\">';\r\n\t\t\t\t\t\t\tfor(var i=0; i<item.piccount; i++){\r\n\t\t\t_html +=\t\t'<img src=\"'+ item.pics[i].url +'\" alt=\"images\">';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t_html +=\t'</div>';\r\n\t\t}\r\n\t\treturn _html;\r\n\t},\r\n\r\n\tsetZan: function(item){\r\n\t\tvar _html = '';\r\n\t\tif(item.agree > 0){\r\n\t\t\t_html = '<a href=\"javascript:;\" class=\"hasApp\"><div class=\"n-clickZan\">'+ item.agree +'</div></a>';\r\n\t\t}else{\r\n\t\t\t_html = '<a href=\"javascript:;\" class=\"hasApp\"><div class=\"n-clickZan zero\">&nbsp;</div></a>';\r\n\t\t}\r\n\r\n\t\treturn _html;\r\n\t},\r\n\r\n\tsetZan2: function(item){\r\n\t\tvar _html = '';\t\r\n\t\tif(item.agree > 0){\r\n\t\t\t_html = '<a href=\"javascript:;\" class=\"hasApp\"><span class=\"zan click\"><i></i><span>'+ item.agree +'</span></span></a>';\r\n\t\t}else{\r\n\t\t\t_html = '<a href=\"javascript:;\" class=\"hasApp\"><span class=\"zan\"><i></i></span></a>';\r\n\t\t}\r\n\t\treturn _html;\r\n\t},\r\n\r\n\tgetDateDiff:function(dateTimeStamp){\r\n\t\tvar minute = 1000 * 60;\r\n\t\tvar hour = minute * 60;\r\n\t\tvar day = hour * 24;\r\n\r\n\t\tvar now = new Date().getTime();\r\n\t\tvar diffValue = now - dateTimeStamp;\r\n\r\n\t\tvar weekC = diffValue/(7*day);\r\n\r\n\t\tvar newTime = new Date(dateTimeStamp);\r\n\t\tvar nianyueri = this.gshtime(newTime);\r\n\t\t//console.log(nianyueri);\r\n\t\tvar dayC =diffValue/day;\r\n\t\tvar hourC =diffValue/hour;\r\n\t\tvar minC =diffValue/minute;\r\n\r\n\t\tif(weekC>=1){\r\n\t\t\tresult= nianyueri ;\r\n\t\t}\r\n\t\telse if(dayC>=1 && dayC<7){\r\n\t\t\tresult= parseInt(dayC) +\"天前\";\r\n\t\t}\r\n\t\telse if(hourC>=1 && hourC <24){\r\n\t\t\tresult= parseInt(hourC) +\"个小时前\";\r\n\t\t}\r\n\t\telse if(minC>=20 && minC <60){\r\n\t\t\tresult= parseInt(minC) +\"分钟前\";\r\n\t\t}else\r\n\t\t\tresult=\"刚刚\";\r\n\t\t\treturn result;\r\n\t},\r\n\r\n\t//时间转换\r\n\tgshtime:function(time){\r\n\t\tvar year_ = time.getFullYear();       //年</span>\r\n\t\tvar month_ = time.getMonth() + 1;  //月  \r\n\t\tvar day_ = time.getDate();         //日  \r\n\t\tvar str=\"\";\r\n\t\t\t\r\n\t\tstr+=year_ +'-';\r\n\t\tif(month_ < 10)\r\n\t\t\tstr+= \"0\";\r\n\t\t\tstr+= month_ +'-';\r\n\t\tif(day_ < 10)\r\n\t\t\tstr+= \"0\";\r\n\t\t\tstr+= day_;\r\n\t\treturn(str);\r\n\t},\r\n\r\n\t//互动直播\r\n\tinteractiveLive: function(url){\r\n\t\tvar _this = this;\r\n\t\tvar _url = url+'?id='+ _itemid + '&t=jsonp&cb=setcontent.interactiveLiveSuccess&serviceId=cbox';\r\n\t\tthis.getJsonp(_url);\r\n\t},\r\n\r\n\tinteractiveLiveSuccess: function(data){\r\n\t\tvar self = this;\r\n\t\tvar data = data.data;\r\n\t\t//直播标题\r\n\t\tif(data){\r\n\t\t\t$('title').text(data.covertitle);\r\n\t\t\t$('#liveTitle').text(data.liveTitle);\r\n\r\n\t\t\t//大视频播放\r\n\t\t\tif($('#'+self.indexVideoDiv).length > 0){ \r\n\t\t\t\tvar height = self.getVideoHeight($(window).width(), data.liveRate);\r\n\t\t\t\tthis.h5player(data.liveType, data.liveUrl, self.indexVideoDiv, $(window).width(), height, data.liveImage);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//视频列表载入\r\n\t\t\tself.loadVideoList(data);\r\n\r\n\t\t\t//在线人数\r\n\t\t\tif(data.countFlag == 1){//打开\r\n\t\t\t\t$('.n-dataOnline').show();\r\n\t\t\t}else{\r\n\t\t\t\t$('.n-dataOnline').hide();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar liveId = data.liveUrl;\r\n\r\n\t\t\tself.setTab(data);//选项卡调整\r\n\t\t}\r\n\t},\r\n\r\n\tgetVideoHeight: function(width, ratio){\r\n\t\t//计算视频高度\r\n\t\tvar height;\r\n\t\tif(ratio == 0){//4:3\r\n\t\t\theight = width / (4/3)\r\n\t\t}else{//16:9\r\n\t\t\theight = width / (16/9)\r\n\t\t}\r\n\t\treturn height;\r\n\t},\r\n\t// 边看边聊\r\n\tsetliveChat: function(){\r\n\t\tvar app = 'cbox',//应用\r\n\t\t\treply = 5,\r\n\t\t\turl = 'http://common.newcomment.cntv.cn/data/list?app='+app+'&itemid='+_itemid+'&jsonp_callback=setcontent.setliveChatSuccess&itemtype=0&prepage=50&reply='+ reply;\r\n\t\tthis.getJsonp(url);\r\n\t}, \r\n\r\n\tsetliveChatSuccess: function(data){\r\n\t\tvar html = '';\r\n\t\tvar self = this;\r\n\t\tif(data.code == 0){\r\n\t\t\tif(data.data.total > 0){\r\n\t\t\t\t$.each(data.data.content, function(index, item){\r\n\t\t\t\t\tvar li_html = '';\r\n\t\t\t\t\tvar _class = '';\r\n\t\t\t\t\tif(index % 2 == 0){\r\n\t\t\t\t\t\t_class = 'left';\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_class = 'right';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tli_html += '<li class=\"'+ _class +'\" data-nub=\"'+index+'\">\\\r\n\t\t\t\t\t\t\t\t\t<span class=\"user_img\">\\\r\n\t\t\t\t\t\t\t\t\t\t<img src=\"img/touxiang.png\" alt=\"头像\">\\\r\n\t\t\t\t\t\t\t\t\t</span>\\\r\n\t\t\t\t\t\t\t\t\t<span class=\"chat_item\">\\\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"triangle-'+ _class +'\"></span>\\\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"clearfix\">\\\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 class=\"host\">'+ item.author +'</h5>\\\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"time\">'+ setcontent.getDateDiff(parseInt(item.dateline)*1000) +'</span>\\\r\n\t\t\t\t\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t\t\t\t\t<p class=\"content\">'+ item.message +'</p>';\r\n\t\t\t\t\t\t\t\t\t\tvar reply = self.getReplyContent(item.pid, data);\r\n\t\t\t\t\t\t\t\t\t\tif(reply != 0){\r\n\t\t\t\t\tli_html +=\t\t\t\treply;\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\tli_html +=\t\t\t'<div class=\"fright\">\\\r\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\">';\r\n\t\t\t\t\tli_html +=\t\t\t\t\tself.setZan2(item);\t\t\t\r\n\t\t\t\t\tli_html +=\t\t\t\t\t'<a href=\"javascript:;\" class=\"hasApp\"><span class=\"chat_icon\"></span></a>\\\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\\\r\n\t\t\t\t\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t\t\t\t</span>\\\r\n\t\t\t\t\t\t\t\t\t<span class=\"clear_both\"></span>\\\r\n\t\t\t\t\t\t\t\t</li>';\r\n\t\t\t\t\thtml += li_html;\r\n\t\t\t\t});\r\n\t\t\t\t$('.live_chat ul').html(html); \r\n\t\t\t\tloopBindingApp();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t}else{\r\n\t\t\tconsole.log('获取边看边聊失败');\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetReplyContent: function(pid, data){\r\n\t\tvar _html = '';\r\n\t\tvar replyContent = data.data.reply[pid]; \r\n\t\tif(replyContent && replyContent.length > 0){\r\n\t\t\t$.each(replyContent, function(index, item){\r\n\t\t\t\tif(index == 0){\r\n\t\t\t\t\t_html += \t'<div class=\"refer\">\\\r\n\t\t\t\t\t\t\t\t\t<h5 class=\"host\">'+ item.author +'</h5>\\\r\n\t\t\t\t\t\t\t\t\t<p>'+ item.message +'</p>\\\r\n\t\t\t\t\t\t\t\t</div>';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn _html;\r\n\t\t}else{\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t},\r\n\r\n\tsetTab: function(data){\r\n\t\t//选项卡状态\r\n\t\t////实况直播状态\r\n\t\tif(data.msgFlag == 0){//关闭\r\n\t\t\t$('.live').addClass('hidden');\r\n\t\t\t$('.live').remove();\r\n\t\t\t$('.n-nav ul li').eq(0).trigger(\"click\");\r\n\t\t}else{\r\n\t\t\t$('.live').removeClass('hidden');\r\n\t\t\t//设置标签标题\r\n\t\t\t$('.n-nav li.live').text(data.msgTag);\r\n\t\t}\r\n\r\n\t\t////边看边聊状态\r\n\t\tif(data.topicFlag > 0){//开启\r\n\t\t\t$('.live_chat').removeClass('hidden');\r\n\t\t\t$('.n-nav li.live_chat').text(data.topicTag);\r\n\t\t}else{\r\n\t\t\t$('.live_chat').addClass('hidden');\r\n\t\t}\r\n\r\n\t\t////互动状态 \r\n\t\tif(data.interactFlag > 0){//开启\r\n\t\t\t$('.interact').removeClass('hidden');\r\n\t\t\t$('.n-nav li.interact').text(data.interactTag);\r\n\t\t\t//设置互动\r\n\t\t\t$('iframe#interact').attr('src', data.interactUrl);\r\n\t\t}else{\r\n\t\t\t$('.interact').addClass('hidden');\r\n\t\t}\r\n\r\n\t\t////多视角\r\n\t\tif(data.whichFlag > 0){//开启\r\n\t\t\tif (data.remark >= 2 ){\r\n\t\t\t\t$('.multiple').removeClass('hidden');\r\n\t\t\t\t//$('.n-nav li.multiple').text(data.whichTag);\r\n\t\t\t}else{\r\n\t\t\t\t$('.multiple').addClass('hidden'); \r\n\t\t\t};\t\t\t\r\n\t\t\t//多视角图\r\n\t\t\tif( _vtype == 17 ){\r\n\t\t\t\tthis.setMultipleList(data);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t$('.multiple').addClass('hidden'); \r\n\t\t}\r\n\r\n\t\t////调整选项卡宽度\r\n\t\t\r\n\t\tadjustNavWidth();\r\n\t\trefreshTab();//刷新tab第一个显示的tab\r\n\t\tif(data.msgFlag == 0 && data.topicFlag == 0 && data.interactFlag == 0 && data.whichFlag == 0){\r\n\t\t\t$('.n-nav').addClass('hidden');\r\n\t\t\t$('.n-con').addClass('hidden');\r\n\t\t}\r\n\t\t\r\n\t},\r\n\r\n\t// 多视角\r\n\tsetMultipleList: function(data){\r\n\t\tvar html = '';\r\n\t\tvar live = ' live';\r\n\t\tvar self = this;\r\n\t\tif(data.remark == 0){//关闭样式\r\n\t\t\t$('.n-nav .multiple').addClass('hidden');\r\n\t\t\t$('.duoshijiao').html('');\r\n\t\t\t/*$('.n-clock.multiple').html('<div class=\"duoshijiao\"></div>');\r\n\t\t\tif($('.duoshijiao') && $('.duoshijiao').length > 0){\r\n\r\n\t\t\t\t$.each(data.liveList, function(index, item){ \r\n\t\t\t\t\tvar li_html = '';\r\n\t\t\t\t\tvar info = ' data-type='+item.liveType+' data-url='+item.liveUrl + ' data-image='+item.liveImage;\r\n\t\t\t\t\t//if(item.liveType == 2){//直播中\r\n\t\t\t\t\tif(index == 0){\r\n\t\t\t\t\t\tli_html = '<div class=\"item live\"'+info+'>';\r\n\t\t\t\t\t//}else if(item.liveType == 3){//点播\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tli_html = '<div class=\"item\"'+ info +'>';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tli_html+=\t\t'<p>'+ item.liveTitle +'</p>\\\r\n\t\t\t\t\t\t\t\t</div>';\r\n\t\t\t\t\thtml += li_html;\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}*/\r\n\t\t}else if(data.remark == 1){//图文\r\n\t\t\t$('.n-nav li.multiple').text(data.whichTag);\r\n\t\t\t$('.multiple').removeClass('hidden');\r\n\t\t\t$('.n-clock.multiple').html('<div class=\"duoshijiao-pic\"></div>');\r\n\t\t\t//多视角-图\r\n\t\t\t$.each(data.liveList, function(index, item){\r\n\t\t\t\tvar li_html = '';\r\n\t\t\t\tvar info = ' data-type='+item.liveType+' data-url='+item.liveUrl + ' data-image='+item.liveImage + ' data-ratio='+ item.liveRate;\r\n\r\n\t\t\t\t//if(item.liveType == 2){\r\n\t\t\t\tif(index ==0){//直播中，默认第一个为直播中\r\n\t\t\t\t\tli_html += '<div class=\"item live\"'+info+'>';\r\n\t\t\t\t\tli_html +=\t\t'<span class=\"tag\">播放</span>';\r\n\t\t\t\t//}else if(item.liveType == 3){//点播\r\n\t\t\t\t}else{\r\n\t\t\t\t\tli_html += '<div class=\"item\"'+info+'>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tli_html+=\t\t'<img src=\"'+ item.liveImage +'\" alt=\"'+ item.liveTitle +'\" />\\\r\n\t\t\t\t\t\t\t\t<p>'+ item.liveTitle +'</p></div>';\r\n\t\t\t\thtml += li_html;\r\n\t\t\t});\r\n\t\t\t$('.duoshijiao-pic').html(html);\r\n\t\t\t\r\n\t\t}else if(data.remark == 2){//标题\r\n\t\t\t$('.n-nav li.multiple').text(data.whichTag);\r\n\t\t\t$('.multiple').removeClass('hidden');\r\n\t\t\t$('.n-clock.multiple').html('<div class=\"duoshijiao-text\"></div>');\r\n\t\t\t//多视角-文\r\n\t\t\tif($('.duoshijiao-text').length > 0){\r\n\t\t\t\t$.each(data.liveList, function(index, item){ \r\n\t\t\t\t\tvar li_html = '';\r\n\t\t\t\t\tvar info = ' data-type='+item.liveType+' data-url='+item.liveUrl + ' data-image='+item.liveImage + ' data-ratio='+ item.liveRate;\r\n\t\t\t\t\t//if(item.liveType == 2){//直播中\r\n\t\t\t\t\tif(index == 0){\r\n\t\t\t\t\t\tli_html = '<div class=\"item live\"'+info+'>';\r\n\t\t\t\t\t//}else if(item.liveType == 3){//点播\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tli_html = '<div class=\"item\"'+ info +'>';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tli_html+=\t\t'<p>'+ item.liveTitle +'</p>\\\r\n\t\t\t\t\t\t\t\t</div>';\r\n\t\t\t\t\thtml += li_html;\r\n\t\t\t\t});\r\n\t\t\t\t$('.duoshijiao-text').html(html);\r\n\t\t\t}  \r\n\t\t}\r\n\t\t\r\n\t\t\t//$(\".n-nav ul li\").not(\".hidden\").addClass(\"on\").siblings().removeClass(\"on\");\r\n\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t//多视角点击事件\r\n\t\t$('.duoshijiao-pic>div, .duoshijiao-text>div').on('click', function(){ \r\n\t\t\t//折叠状态改变\r\n\t\t\tif($('.n-upDown').hasClass('on')){\r\n\t\t\t\t$('.n-upDown').trigger('click');\r\n\t\t\t}  \r\n\r\n\t\t\t//self.changeIndexVideo($(this).attr('data-type'), $(this).attr('data-url'));\r\n\t\t\t$('.duoshijiao-pic>div, .duoshijiao-text>div').removeClass('live').find('.tag').remove();\r\n\t\t\tif($(this).parents('.duoshijiao-pic').length > 0){\r\n\t\t\t\t$(this).prepend('<span class=\"tag\">播放中</span>');\r\n\t\t\t}\r\n\t\t\t$(this).addClass('live');\r\n\t\t\tif($('#'+self.indexVideoDiv).length > 0){ \r\n\t\t\t\tvar height = self.getVideoHeight($(window).width(), $(this).attr('data-ratio'));\r\n\t\t\t\tself.h5player($(this).attr('data-type'), $(this).attr('data-url'), self.indexVideoDiv, $(window).width(),  height);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t},\r\n\r\n\tloadVideoList: function(data){\r\n\t\tvar html = ''; \r\n\t\tvar self = this;\r\n\t\t$('#videoList').html('');\r\n\t\t$.each(data.liveList, function(index,item){\r\n\t\t\tvar li_html = '',\r\n\t\t\t\tlive_html = '';\r\n\t\t\t//直播中 \r\n\t\t\t//if(item.liveType == 2){//直播中\r\n\t\t\tif (data.remark == 0) {\r\n\t\t\t\t$(\".n-navImg\").hide();\r\n\t\t\t}else{\r\n\t\t\t\tif(index ==0){\r\n\t\t\t\t\tlive_html = '<div class=\"n-onLive\">\\\r\n\t\t\t\t\t\t\t\t\t<p>播放中</p>\\\r\n\t\t\t\t\t\t\t\t</div>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tli_html = \t'<div class=\"swiper-slide\" data-type='+ item.liveType +' data-url='+ item.liveUrl +'>'+\r\n\t\t\t\t\t\t\t\tlive_html +\r\n\t\t\t\t\t\t\t\t'<div class=\"n-navWord\">'+ item.liveTitle +'</div>'+\r\n\t\t\t\t\t\t\t\t'<img src=\"'+ item.liveImage +'\" alt=\"\" />' +\r\n\t\t\t\t\t\t\t'</div>';\r\n\r\n\t\t\t\thtml += li_html;\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\t$('#videoList').html(html);\r\n\t\t\r\n\t\t//点击切换视频\r\n\t\t$('#videoList>div').on('click', function(){\r\n\t\t\t$(\"#index_video_box\").css(\"display\",\"block\");\r\n\t\t\t$(\"#maskbox\").css(\"display\",\"none\");\r\n\t\t\t$('.n-boxPause').trigger('click');\r\n\t\t\t$('.n-boxPause').css('opacity', '0');\r\n\t\t\tif($('.n-upDown').hasClass('on')){\r\n\t\t\t\t//arrow\r\n\t\t\t\t$('.n-upDown').css(\"transform\",\"rotate(360deg)\")\r\n\t\t\t\t//$('.n-upDown').removeClass('on');\r\n\t\t\t\t//player\r\n\t\t\t\t//$('#html5Player').get(0).play();\r\n\t\t\t\t//set non height\r\n\t\t\t\t//setcontent.setNonHeight(15.25);\r\n\t\t\t}\r\n\t\t\t$('#videoList').find('.n-onLive').remove();\r\n\t\t\t$(this).prepend('<div class=\"n-onLive\"><p>播放</p></div>');\r\n\t\t\tif($('#'+self.indexVideoDiv).length > 0){\r\n\t\t\t\tvar height = parseInt($('html').css('fontSize')) * 9;\r\n\t\t\t\tself.h5player($(this).attr('data-type'), $(this).attr('data-url'), self.indexVideoDiv, $(window).width(),  height);\r\n\t\t\t}\r\n\t\t\t$(\"#maskbox\").css(\"display\",\"none\");\r\n\t\t});\r\n\t\tstartWiper();\r\n\t},\r\n\t//创建script\r\n\tgetJsonp: function(url){\r\n\t\tvar head = document.getElementsByTagName('head')[0];\r\n\t    var script = document.createElement('script');\r\n\r\n\t    script.onload = function() {\r\n\t        head.removeChild(script);\r\n\t    }\r\n\t    script.src = url;\r\n\t    head.appendChild(script);\r\n\t},\r\n    \r\n\th5playerZhibo: function(channel_name, video_id, width, height){\r\n\t\t/*直播播放器*/\r\n\t\tvar attributes = {\r\n\t\t\tvideo_width: width,\t/* Flash播放器宽度 */\r\n\t\t\tvideo_height: height,\t/* Flash播放器高度 */\r\n\t\t\tvideo_channel_name: channel_name\t/* Flash播放器及ipad 使用的直播流名称 */\r\n\t\t};\r\n\t\tcreateHtml5LivePlayer(video_id, attributes[\"video_width\"], attributes[\"video_height\"], attributes[\"video_channel_name\"]);\r\n\t},\r\n\r\n\th5playerDianbo: function(div_id,pid,width,height,posterImg){ \r\n\t\t/*点播播放器*/\r\n\t    function creatMultiPlayerTest(divid,pid,width,height,posterImg){\r\n\t        var fo = createHtml5VodPlayer(divid,width,height,pid);\r\n\t    }\r\n\t    creatMultiPlayerTest(div_id, pid, width, height, posterImg);\r\n    \t//creatMultiPlayerTest(div_id, \"96ad1e76f1094d11a0afb3961dfe3107\", false, \"http://i1.sinaimg.cn/cj/2015/0819/U12164P31DT20150819164023.jpg\");\r\n\r\n\t},\r\n\r\n\th5player: function(type, url, divid, width, height, posterImg){\r\n\t\tconsole.log('liveType ', type)\r\n\t\t$('#'+divid).html('');//清空视频\r\n\t\tif(type == 1){//图片\r\n\t\t\tconsole.log('类型是图片')\r\n\t\t}else if(type == 2){//直播 \r\n\t\t\t$(divid).css(\"display\",\"block\");\r\n\t\t\tthis.h5playerZhibo(url.slice(16), divid, width, height);\r\n\t\t}else if(type == 3){//点播\r\n\t\t\t$(divid).css(\"display\",\"block\");\r\n\t\t\tthis.h5playerDianbo(divid,url,width,height, posterImg);\r\n\t\t}\r\n\t},\r\n\r\n\tchangeIndexVideo: function(type, url){ \r\n\t\tif($('#'+self.indexVideoDiv).length > 0){ \r\n\t\t\tvar height = parseInt($('html').css('fontSize')) * 9;\r\n\t\t\tthis.h5player(type, url, self.indexVideoDiv, $(window).width(), height);\r\n\t\t}\r\n\t},\r\n\r\n\tgetTotalPeople: function(){\r\n\t\tvar url = 'http://pvst.app.cntvwb.cn/stat/getac?iid='+_itemid+'&itype=mlive&cb=setcontent.getTotalPeopleSuccess';\r\n\t\tthis.getJsonp(url);\r\n\t},\r\n\r\n\tgetTotalPeopleSuccess: function(data){ \r\n\t\tif(data.code == 0){\r\n\t\t\t$('.n-dataOnline p').text(data.data.vc + '人参与');\r\n\t\t}else{\r\n\t\t\t//console.log('连接人数失败')\r\n\t\t}\r\n\t\t\r\n\t},\r\n\r\n\tresize: function(){\r\n\t\t//video\r\n\t\t\r\n\t\t//tab-nav\r\n\t\tadjustNavWidth();\r\n\t}\r\n}\r\n\r\n//秀场直播页面的js\r\nvar LiveFunction = function(){\r\n\tsetcontent.getTotalPeople();\r\n\tthis.xiuChang();\r\n}\r\n\r\nLiveFunction.prototype = {\r\n\txiuChang: function(){\r\n\t\tvar url = 'http://115.182.34.94/api/list/liveMessageList?id='+ _itemid + '&t=jsonp&cb=liveFunction.xiuChangSuccess&serviceId=cbox';\r\n\t\tsetcontent.getJsonp(url);\r\n\r\n//\t\tvar self = this;\r\n//\t\t $.ajax({\r\n//\t\t \ttype: 'GET',\r\n//\t\t \turl: 'js/zhibo.json',\r\n//\t\t \tsuccess: function(data){\r\n//\t\t \t\tself.xiuChangSuccess(data);\r\n//\t\t \t},\r\n//\t\t \terror: function(){\r\n//\t\t \t\tconsole.log('error'); \r\n//\t\t \t}\r\n//\t\t });\r\n\t},\r\n\r\n\txiuChangSuccess: function(data){\r\n\t\t//title\r\n\t\t\r\n//\t\t$(\"title\").text(data.data.covertitle);\r\n\r\n\t\t//video\r\n\t\tvar height = $('body').height() - $('.bottom-bar').height() - $('.top-menu').height();\r\n\t\tsetcontent.h5player(data.data.liveType, data.data.liveUrl, 'video_box', $('body').width(), height, data.data.liveImage);\t\t\r\n\t\t\r\n\t\t//author\r\n\t\tif(data.data.msgCount > 0 || data.msgList.length > 0 || data.data.countFlag == 0){//20161215\r\n\t\t\t$('.live-status').show();\r\n\t\t\t$('.live-status .content #author').text(data.msgList[0].rwName);\r\n\t\t\t$('.live-status .user-img img').attr('src',data.msgList[0].rwImg);\r\n\t\t}else{\r\n\t\t\t$('.live-status').hide();\r\n\t\t}\r\n\t\tloopBindingApp();\r\n\t\t//this.removeControl();\r\n\t},\r\n\tremoveControl: function(){\r\n\t\tif($('#html5Player')){\r\n\t\t\t$(\"#html5Player\").removeAttr(\"controls\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//设置主页面数据的js\r\nvar setcontent = new setContent();\r\n\r\n/*\r\n *\r\n * 寻找页面的所有的hasApp，绑定打开客户端\r\n *\r\n */\r\nfunction loopBindingApp() {\r\n\t$('#hasApp, .hasApp').on('click', function(){\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\tnew bindApp(); \r\n\t});\r\n\t\r\n\t$(\"#maskbox a\").on('click',function(){\r\n\t    event.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t\tnew bindApp();\r\n\t});\r\n};\r\n\r\nvar bindApp = function(){\r\n\tthis.clickClient();\r\n}\r\nbindApp.prototype = {\r\n\tclickClient:function(){\r\n\t\tvar para = 'vtype='+ _vtype +'&itemid='+ _itemid; \r\n\t\tvar download_link = 'http://download.cntv.cn/app/cbox/index.html';\r\n\t\t//var download_link = 'http://202.108.16.139/cbox/index.html';\r\n\t\tthis.hasApp(\"cntvCBox://app.cntv.cn/?\"+para, download_link + \"?\"+ para);\r\n\t},\r\n\thasApp:function(url,fail){  \r\n\t\twindow.location.href=url;\r\n\t\tsetTimeout(function(){\r\n    \t\t\twindow.location.href=fail;\r\n    \t\t}, 1000); \r\n\t}\r\n}\r\n\r\n\r\n\r\n//打开客户端\r\n//new loopBindingApp('hasApp');\r\n\r\n/*\r\n * 通用方法\r\n *\r\n*/\r\n//关闭底端下载浮层\r\nfunction closeW(){\r\n\t$('.n-appDownLoad').hide(); \r\n\t$('ul.chat').css(\"padding-bottom\",\"4rem !important\");\r\n}\r\n//n-con折叠收起\r\nfunction packUp(v){\r\n\tvar _this=v;\r\n\t//$('.n-con').slideToggle();\r\n\r\n\t//set non height\r\n\t//setcontent.setNonHeight(9.95);\r\n\r\n\tif($(_this).hasClass('on')){\r\n\t\t$(\".n-boxPause\").css({\"display\":\"block\",\"zIndex\":\"0\"});\r\n\t\t$(\"#html5Player\").attr(\"class\",\"play_down\");\r\n\t\tpackUpOn(_this);\r\n\t}\r\n\telse{\r\n\t\t$(_this).css(\"transform\",\"rotate(180deg)\")\r\n\t\t$(_this).addClass('on');\r\n\t\t$(\"#html5Player\").attr(\"class\",\"play_on\");\r\n\t\t$(\".n-boxPause\").css(\"display\",\"block\");\r\n\t\t$(\".n-boxPause\").css({\"display\":\"block\",\"zIndex\":\"9999\"});\r\n\t\t//player\r\n\t\t$('video').get(0).pause();\r\n\t\t$('video, .n-videoaBox, #index_video_box,.n-boxPause,.n-play').animate({'height': '3.7rem'}, 50, function(){\r\n\t\t\t$('.n-boxPause').animate({'opacity': 1}, 50);\r\n\t\t});\r\n\t\t$('#interact').css('height', \"18rem\" ); \r\n\t}\r\n}\r\n\r\n//播放器跳转客户端\r\n\r\n\r\n\r\nfunction packUpOn(_this){\r\n\t//arrow\r\n\t$(_this).css(\"transform\",\"rotate(360deg)\")\r\n\t$(_this).removeClass('on');\r\n\r\n\t//player\r\n\t//$('#html5Player').get(0).play();\r\n\t$('.n-boxPause').stop().animate({'opacity': 0}, 300, function(){\r\n\t\t$('video, .n-videoaBox, #index_video_box').stop().animate({'height': '9rem'}, 300);\r\n\t\t//set non height\r\n\t\t//setcontent.setNonHeight(15.25);\r\n\t});\r\n}\r\n\r\n$('.n-play').on('click', function(){\r\n\tpackUpOn($('.n-upDown'));\r\n\t$(\"#html5Player\").attr(\"class\",\"play_down\");\r\n});\r\n\r\n//导航条切换\r\n$(function(){\r\n\t$('.n-nav ul li').click(function(){\r\n\t\t$(this).addClass('on').siblings().removeClass('on');\r\n\t\t$('.n-clock').eq($(this).index()).addClass('on').siblings().removeClass('on');\r\n\t\t\r\n\t});\r\n});\r\n\r\n//显示第一个没被隐藏的tab\r\nfunction refreshTab(){ \r\n\t$('.n-nav ul li').each(function(index, item){\r\n\t\tif($(this).hasClass('on') ){ \r\n\t\t\t$('.n-con').children().eq($(this).index()).addClass('on').siblings().removeClass('on');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//调整导航宽度\r\nfunction adjustNavWidth(){\r\n\t// <!-- 选项卡宽度 -->\r\n\t$('.n-nav ul').each(function(){ \r\n\t\tvar window_width = window.innerWidth;\r\n\t\tvar objects = $(this).children().not('.hidden');\r\n\t\tvar length = objects.length\r\n\t\tobjects.css('width', parseInt( window_width * 0.92 / length) + 'px');\r\n//\t\tobjects.first().addClass(\"on\").siblings().removeClass(\"on\")\r\n\t});\r\n}\r\n\r\n//获取地址栏参数\r\nfunction GetQueryString(name){\r\n    var reg = new RegExp(\"(^|&)\"+ name +\"=([^&]*)(&|$)\");\r\n    var r = window.location.search.substr(1).match(reg);\r\n    if(r!=null)return  unescape(r[2]); return null;\r\n}\r\n\r\n/*判断终端类型*/\r\nvar browser ={\r\n\tversions:function(){\r\n\t\tvar ua = navigator.userAgent;\r\n\t\treturn {\r\n\t\t\tiphone: ua.indexOf('iPhone') > -1,\r\n\t\t\tandroid: ua.indexOf('Android') > -1,\r\n\t\t\tmobile:/AppleWebKit.*Mobile/i.test(ua) ||/Android/i.test(ua)|| (/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(ua)),\r\n\t\t\tisIE7:/MSIE 7.0|MSIE 8.0|MSIE/i.test(ua),\r\n\t\t\tWinPhone:/Windows Phone/i.test(ua)\r\n\t\t}\r\n\t}()\r\n}\r\n\r\nfunction startWiper(){\r\n\tvar swiper = new Swiper('.swiper-container', {\r\n\t    pagination: '.swiper-pagination',\r\n\t    slidesPerView: 3,\r\n\t    paginationClickable: true,\r\n\t    spaceBetween: 15\r\n\t});\r\n}\r\n/*var setLi = setInterval(function(){\r\n\tvar _len = $('.live_chat ul').find(\"li\").length;\r\n\tvar aLi = $('.live_chat ul').find(\"li\");\r\n\tif (_len != 0) {\r\n\t\tfor(var i = 0; i < _len;i++){\r\n\t\t\tarr.push(aLi[i]);\r\n\t\t};\r\n\t\t$('.live_chat ul').html(\"\");\r\n\t\tif (arr.length != 0 ){\r\n\t\t\tfor(var a = arr.length;a > -1;a--){\r\n\t\t\t\t$('.live_chat ul').append(arr[a]);\r\n\t\t\t};\r\n\t\t\tclearInterval(setLi);\r\n\t\t};\r\n\t};\r\n},1);*/\r\nvar setId = setInterval(function(){\r\n\tvar dataTop = $(\"#liveList\").find(\"li\").eq(0).attr(\"data-id\");\r\n\tvar li_len = $(\"#liveList\").find(\"li\").length;\r\n\tvar li_cnt = $(\"#liveList\").find(\"li\");\r\n\tfor(var n = 1;n <= li_len; n++){\r\n\t\tvar dataid = $(\"#liveList\").find(\"li\").eq(n).attr(\"data-id\");\r\n\t\tif (dataTop == dataid){\r\n\t\t\t$(\"#liveList\").find(\"li\").eq(n).remove();\r\n\t\t\tclearInterval(setId);\r\n\t\t};\r\n\t};\r\n\t/*var li_len = $(\"#liveList\").find(\"li\").length;\r\n\tfor(var s = 1; s <= li_len ; s++){\r\n\t\tArr.push(li_cnt[s]);\r\n\t\tli_cnt.eq(s).remove();\r\n\t};\r\n\tclearInterval(setId);\r\n\tif (Arr.length != 0 ){\r\n\t\tfor(var d = arr.length;d> 0;d--){\r\n\t\t\t$('#liveList').append(Arr[d]);\r\n\t\t};\r\n\t\t\r\n\t};*/\r\n},1);\r\n$.ajax({\r\n    dataType:'jsonp',\r\n    jsonp:'cb',\r\n    url: 'http://pvst.app.cntvwb.cn/stat/updatec',\r\n    data:{'itype':'mlive','iid':_itemid},\r\n    success:function(data){\r\n\r\n    }\r\n});"]}