{"version":3,"sources":["imggelly-compiled.js"],"names":[],"mappings":"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","file":"imggelly-compiled-compiled.js","sourcesContent":["\"use strict\";\n\n// JavaScript Document\n//window.mySwipe 注意：为全局函数   \nvar GellyClass = function () {\n\n\tvar ImageGelly = function ImageGelly(param) {\n\t\tthis.init(param);\n\t};\n\tImageGelly.hasboxbind = false; //用于标记是否已添加window.resize函数\n\tImageGelly.scolltop = 0; //记录滚动条的高度\n\tImageGelly.prototype = {\n\t\tinit: function init(param) {\n\t\t\tthis.parentstr = param.id;\n\t\t\tthis.bottomele = param.bottomdiv;\n\t\t\tthis.imgs = [];\n\t\t\tthis.index = param.index || 0;\n\t\t\tthis.createitemHtml(param.imgs);\n\t\t\tthis.addslide(param.id);\n\t\t\tthis.aglinimg();\n\t\t\tthis.bindfuc();\n\t\t},\n\t\taddslide: function addslide(parentid) {\n\t\t\tvar index = this.index;\n\t\t\tvar height = $(window).height();\n\t\t\tvar width = $(window).width();\n\t\t\t$(\".swipe-wrap > div\").height(height);\n\t\t\tvar elem = document.getElementById(parentid);\n\t\t\t//console.log(elem);\n\t\t\tif (window.mySwipe) {\n\t\t\t\twindow.mySwipe = null;\n\t\t\t}\n\t\t\twindow.mySwipe = new Swipe(elem, {\n\t\t\t\tstartSlide: index,\n\t\t\t\t// auto: 3000,\n\t\t\t\tcontinuous: false\n\t\t\t});\n\t\t},\n\t\taglinimg: function aglinimg() {\n\t\t\tvar imgarr = $(\"#\" + this.parentstr + \" img.fullscreen\");\n\t\t\tvar self = this;\n\t\t\tfor (var i = 0, len = imgarr.length; i < len; i++) {\n\t\t\t\tvar imgdom = imgarr.eq(i);\n\t\t\t\t(function (dom) {\n\t\t\t\t\tvar img = new Image();\n\t\t\t\t\timg.onload = function () {\n\t\t\t\t\t\t//console.log(this.width);\n\t\t\t\t\t\t//此处可对图片进行调整\n\t\t\t\t\t\tdom.attr('maxwidth', this.width);\n\t\t\t\t\t};\n\t\t\t\t\timg.src = dom.attr(\"src\");\n\t\t\t\t\tself.imgs.push(dom.attr(\"src\"));\n\t\t\t\t})(imgdom);\n\t\t\t}\n\t\t},\n\t\tcreateitemHtml: function createitemHtml(arr) {\n\t\t\tvar str = '<div class=\"swipe-wrap\">';\n\t\t\tfor (var i = 0, len = arr.length; i < len; i++) {\n\t\t\t\tstr += '<div><img class=\"fullscreen\" src=\"' + arr[i] + '\"></div>';\n\t\t\t}\n\t\t\tstr += '</div>';\n\t\t\t$(\"#\" + this.parentstr).html(str);\n\t\t},\n\t\tbindfuc: function bindfuc() {\n\t\t\tvar self = this;\n\t\t\tvar parentdom = $(\"#\" + this.parentstr);\n\t\t\tparentdom.unbind('click');\n\t\t\tparentdom.click(function () {\n\t\t\t\t$(this).hide();\n\t\t\t\tself.bottomele.css({ display: 'block' });\n\t\t\t\t$(\"body\").scrollTop(ImageGelly.scolltop);\n\t\t\t});\n\t\t\tif (!ImageGelly.hasboxbind) {\n\t\t\t\t$(window).resize(function () {\n\t\t\t\t\tvar height = $(window).height();\n\t\t\t\t\tvar width = $(window).width();\n\t\t\t\t\tparentdom.css({ height: height, width: width });\n\t\t\t\t\tvar imgs = parentdom.find(\"img.fullscreen\");\n\t\t\t\t\tif (width > height) {\n\t\t\t\t\t\timgs.css({ height: \"80%\", width: 'auto' });\n\t\t\t\t\t} else {\n\t\t\t\t\t\timgs.css({ height: \"auto\", width: '100%' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tImageGelly.hasboxbind = true;\n\t\t\t}\n\t\t},\n\t\tinimgarr: function inimgarr(src) {\n\t\t\tvar result = -1;\n\t\t\tvar arrs = this.imgs;\n\t\t\tfor (var i = 0, len = arrs.length; i < len; i++) {\n\t\t\t\tif (arrs[i] == src) {\n\t\t\t\t\tresult = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tvar thegelly;\n\tvar gc = function gc(className, swipeid, container) {\n\t\tthis.swipeid = swipeid;\n\t\tthis.className = className;\n\t\tthis.botcontainer = $(\"#\" + container);\n\t\tthis.init();\n\t};\n\tgc.prototype = {\n\t\tinit: function init() {\n\t\t\tthis.addEvent();\n\t\t},\n\t\taddEvent: function addEvent() {\n\t\t\tvar that = this;\n\t\t\t$('.' + this.className).click(function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar cursrc = $(this).attr(\"src\");\n\t\t\t\tvar index = $(this).index();\n\t\t\t\tImageGelly.scolltop = $(\"body\").scrollTop();\n\t\t\t\tif (!that.thegelly) {\n\t\t\t\t\tthat.creategelly(this, index, that.botcontainer);\n\t\t\t\t} else if (that.thegelly.inimgarr(cursrc) > -1) {\n\t\t\t\t\t$(\"#\" + that.swipeid).css({ display: 'block' });\n\t\t\t\t\tthat.creategelly(this, index, that.botcontainer);\n\t\t\t\t} else {\n\t\t\t\t\t$(\"#\" + that.swipeid).css({ display: 'block' });\n\t\t\t\t\tthat.creategelly(this, index, that.botcontainer);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcreategelly: function creategelly(target, indexnum, bottomele) {\n\t\t\tvar cursrc = $(target).attr(\"src\");\n\t\t\tvar imgs = [];\n\t\t\tvar siblings = $(target).siblings();\n\t\t\tfor (var i = 0, len = siblings.length; i < len; i++) {\n\t\t\t\tvar src = siblings.eq(i).attr(\"src\");\n\t\t\t\timgs.push(src);\n\t\t\t}\n\t\t\timgs.splice(indexnum, 0, cursrc);\n\t\t\tthis.thegelly = new ImageGelly({ id: this.swipeid, imgs: imgs, index: indexnum, bottomdiv: bottomele });\n\t\t}\n\n\t};\n\treturn gc;\n}();\n\n//# sourceMappingURL=imggelly-compiled.js.map"]}