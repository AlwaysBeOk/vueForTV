{"version":3,"sources":["ImgTextService.js"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;;;;;;IACa,c,WAAA,c;AACT;;;;;;AAMA,4BAAa,GAAb,EAAiB,EAAjB,EAAqB;AAAA;;AACjB,aAAK,GAAL,GAAS,GAAT;AACA,aAAK,GAAL,4DAAgE,GAAhE;AACH;;;;;AACD;;;;;4BAKI,Q,EAAS,E,EAAG;AACZ,iBAAK,EAAL,GAAU,MAAM,CAAhB;AACA,6BAAE,IAAF,CAAO;AACH,0BAAS,OADN;AAEH,uBAAM,IAFH;AAGH,qBAAK,KAAK,GAHP;AAIH,sBAAK,EAAC,QAAO,EAAR,EAJF;AAKH,yBAAQ,iBAAS,IAAT,EAAc;AAClB,6BAAS,IAAT;AACH;AAPE,aAAP;AASH;;;;AACD;;;;6BAIK,Q,EAAS;AACV,iBAAK,EAAL,GAAQ,CAAR;AACA,gBAAI,QAAJ,EAAa,CAAb;AACH;;;;AACD;;;;6BAIK,Q,EAAS;AACV,gBAAI,QAAJ,EAAa,KAAK,EAAL,EAAb;AACH;;;;AACD;;;;;iCAKS,Q,EAAS,U,EAAW;AACzB,yBAAW,cAAc,MAAzB;AACA,gBAAI,OAAK,IAAT;AACA,wBAAY,YAAU;AAClB,qBAAK,GAAL,CAAS,QAAT;AACH,aAFD,EAEG,UAFH;AAGH","file":"ImgTextService-compiled.js","sourcesContent":["import $ from 'jquery'\r\nexport class ImgTextService{\r\n    /**\r\n     *ImgTextService 评论的接口服务,查看例子<a href='../es6/service/imgtext/eg/index.html'> ImgTextService的使用</a>\r\n     * @requires jquery\r\n     * @param zid {String} zid 评论的ID\r\n     * @param ps {int} ps 评论每页条数\r\n     */\r\n    constructor (zid,ps) {\r\n        this.zid=zid;\r\n        this.url=`http://hot.news.cntv.cn/api/list/liveMessageList?id=${zid}&isfromapp=1&s=1&sn=3&isfromapp=1`;\r\n    };\r\n    /**\r\n     * 根据页码获取评论数据\r\n     * @param callback {Function} 回调函数\r\n     * @param pn {int} 页码 不传值是1\r\n     */\r\n    get(callback,pn){\r\n        this.pn = pn || 1;\r\n        $.ajax({\r\n            dataType:'jsonp',\r\n            jsonp:'cb',\r\n            url: this.url,\r\n            data:{'page':pn},\r\n            success:function(data){\r\n                callback(data);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * 获取第一页数据\r\n     * @param callback {Function} 回调函数\r\n     */\r\n    init(callback){\r\n        this.pn=1;\r\n        get(callback,1);\r\n    };\r\n    /**\r\n     * 获取下一页数据\r\n     * @param callback {Function} 回调函数\r\n     */\r\n    next(callback){\r\n        get(callback,this.pn++)\r\n    };\r\n    /**\r\n     * 循环获取首页数据\r\n     * @param callback {Function} 回调函数\r\n     * @param _interTime {int} 间隔时间(毫秒数)默认是10秒\r\n     */\r\n    interval(callback,_interTime){\r\n        _interTime=_interTime || 100000;\r\n        let that=this;\r\n        setInterval(function(){\r\n            that.get(callback)\r\n        }, _interTime)\r\n    };\r\n\r\n}\r\n"]}