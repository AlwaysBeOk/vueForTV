{"version":3,"sources":["DBJsonService-compiled.js"],"names":[],"mappings":"AAAA;;AAEA,OAAO,cAAP,CAAsB,OAAtB,EAA+B,YAA/B,EAA6C;AAC3C,SAAO;AADoC,CAA7C;AAGA,QAAQ,aAAR,GAAwB,SAAxB;;AAEA,IAAI,aAAa,QAAQ,sCAAR,CAAjB;;AAEA,IAAI,cAAc,uBAAuB,UAAvB,CAAlB;;AAEA,IAAI,mBAAmB,QAAQ,sCAAR,CAAvB;;AAEA,IAAI,mBAAmB,uBAAuB,gBAAvB,CAAvB;;AAEA,IAAI,gBAAgB,QAAQ,mCAAR,CAApB;;AAEA,IAAI,gBAAgB,uBAAuB,aAAvB,CAApB;;AAEA,SAAS,sBAAT,CAAgC,GAAhC,EAAqC;AAAE,SAAO,OAAO,IAAI,UAAX,GAAwB,GAAxB,GAA8B,EAAE,SAAS,GAAX,EAArC;AAAwD;;AAE/F,IAAI,gBAAgB,QAAQ,aAAR,GAAwB,YAAY;AACtD;;;;;;AAMA,WAAS,aAAT,CAAuB,GAAvB,EAA4B,GAA5B,EAAiC;AAC/B,KAAC,GAAG,iBAAiB,OAArB,EAA8B,IAA9B,EAAoC,aAApC;;AAEA,SAAK,GAAL,GAAW,GAAX;AACA,QAAI,GAAJ,EAAS;AACP,UAAI,MAAM,CAAC,GAAG,YAAY,OAAhB,EAAyB,GAAzB,CAAV;AACA,mBAAa,OAAb,CAAqB,GAArB,EAA0B,GAA1B;AACD;AACF;;AAED,GAAC,GAAG,cAAc,OAAlB,EAA2B,aAA3B,EAA0C,CAAC;AACzC,SAAK,SADoC;;AAGzC;;;;;AAKA,WAAO,SAAS,OAAT,GAAmB;AACxB,UAAI,OAAO,KAAK,KAAL,CAAW,aAAa,OAAb,CAAqB,KAAK,GAA1B,CAAX,CAAX;AACA,UAAI,IAAJ,EAAU;AACR,eAAO,IAAP;AACD,OAFD,MAEO;AACL,eAAO,EAAP;AACD;AACF;AAfwC,GAAD,EAgBvC;AACD,SAAK,SADJ;;AAGD;;;;AAIA,WAAO,SAAS,OAAT,CAAiB,IAAjB,EAAuB;AAC5B,UAAI,OAAO,KAAK,OAAL,EAAX;AACA,aAAO,KAAK,IAAL,CAAP;AACD;AAVA,GAhBuC,EA2BvC;AACD,SAAK,QADJ;;AAGD;;;;AAIA,WAAO,SAAS,MAAT,CAAgB,IAAhB,EAAsB;AAC3B,UAAI,MAAM,CAAC,GAAG,YAAY,OAAhB,EAAyB,IAAzB,CAAV;AACA,mBAAa,OAAb,CAAqB,KAAK,GAA1B,EAA+B,GAA/B;AACD;AAVA,GA3BuC,EAsCvC;AACD,SAAK,YADJ;;AAGD;;;;;AAKA,WAAO,SAAS,UAAT,CAAoB,IAApB,EAA0B,KAA1B,EAAiC;AACtC,UAAI,OAAO,KAAK,OAAL,EAAX;AACA,WAAK,IAAL,IAAa,KAAb;AACA,cAAQ,GAAR,CAAY,IAAZ;AACA,UAAI,MAAM,CAAC,GAAG,YAAY,OAAhB,EAAyB,IAAzB,CAAV;AACA,mBAAa,OAAb,CAAqB,KAAK,GAA1B,EAA+B,GAA/B;AACD;AAdA,GAtCuC,CAA1C;AAsDA,SAAO,aAAP;AACD,CAxE2C,EAA5C;;AA0EA","file":"DBJsonService-compiled-compiled.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DBJsonService = undefined;\n\nvar _stringify = require(\"babel-runtime/core-js/json/stringify\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DBJsonService = exports.DBJsonService = function () {\n  /**\r\n   *  DBService 本地缓存服务<a href='../es6/service/imgtext/eg/index.html'> DBService的使用</a>\r\n   * @requires jquery\r\n   * @param zid {String} zid 评论的ID\r\n   * @param ps {int} ps 评论每页条数\r\n   */\n  function DBJsonService(key, obj) {\n    (0, _classCallCheck3.default)(this, DBJsonService);\n\n    this.key = key;\n    if (obj) {\n      var str = (0, _stringify2.default)(obj);\n      localStorage.setItem(key, str);\n    }\n  }\n\n  (0, _createClass3.default)(DBJsonService, [{\n    key: \"getJson\",\n\n    /**\r\n     * 根据页码获取评论数据\r\n     * @param callback {Function} 回调函数\r\n     * @param pn {int} 页码 不传值是1\r\n     */\n    value: function getJson() {\n      var data = JSON.parse(localStorage.getItem(this.key));\n      if (data) {\n        return data;\n      } else {\n        return {};\n      }\n    }\n  }, {\n    key: \"getAttr\",\n\n    /**\r\n     * 获取第一页数据\r\n     * @param callback {Function} 回调函数\r\n     */\n    value: function getAttr(attr) {\n      var data = this.getJson();\n      return data[attr];\n    }\n  }, {\n    key: \"modify\",\n\n    /**\r\n     * 获取下一页数据\r\n     * @param callback {Function} 回调函数\r\n     */\n    value: function modify(json) {\n      var str = (0, _stringify2.default)(json);\n      localStorage.setItem(this.key, str);\n    }\n  }, {\n    key: \"modifyAttr\",\n\n    /**\r\n     * 循环获取首页数据\r\n     * @param callback {Function} 回调函数\r\n     * @param _interTime {int} 间隔时间(毫秒数)默认是10秒\r\n     */\n    value: function modifyAttr(name, value) {\n      var data = this.getJson();\n      data[name] = value;\n      console.log(data);\n      var str = (0, _stringify2.default)(data);\n      localStorage.setItem(this.key, str);\n    }\n  }]);\n  return DBJsonService;\n}();\n\n//# sourceMappingURL=DBJsonService-compiled.js.map"]}